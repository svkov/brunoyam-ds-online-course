# Задачи на распределения

## Задача 1

Одновременно подбрасывают три кубика и записывают сумму их очков. Если результат превышает 15, то в таблицу записывают 1, а если нет, то 0. Затем значения в таблице суммируют. Какое матожидание этой величины, если проводят серию из 20 бросков?

Можете поставить на паузу и попробовать решить задачу самостоятельно

## Решение 1

Итоговое распределение, матожидание которого нам нужно посчитать, является биномиальным, так как мы делаем серию из 20 экспериментов, и каждый эксперимент дает либо положительный либо отрицательный результат с фиксированной вероятностью.

Общая идея решения такова - сначала нужно посчитать вероятность получения 1 и 0, затем определить параметры распределения и расчитать матожидание.

Какова вероятность того, что при броске трех кубиков мы получим 16 и более? Давайте посчитаем.

16 можем получить следующими способами:

3 варианта, когда выпадает две пятерки и одна шестерка

$$16 = 5 + 5 + 6$$

3 варианта, когда выпадает одна четверка и две шестерки

$$16 = 4 + 6 + 6$$

17 следующими способами:

3 варианта, когда выпадает две шестерки и одна пятерка

$$17 = 6 + 6 + 5$$

и 18 можно получить всего одним способов:

$$18 = 6 + 6 + 6$$

Итого получаем 10 способов. Как проверить, что мы не ошиблись? Можно написать простую программу на питоне, чтобы проверить себя.

```python
from itertools import product

dice = list(range(1, 7))
combinations = list(product(dice, dice, dice))
need_combinations = []
for c in combinations:
    if sum(c) > 15:
        need_combinations.append(c)
print(need_combinations)
print(len(need_combinations))
```

Итак, благоприятных исходов 10. Сколько всего возможно исходов? Каждый кубик может принять одно из 6 значений, всего три кубика, значит 6 нужно возвести в 3 степень и получим 216.

Значит, итоговая вероятность $\frac{10}{216}$, что примерно равно 0.046.

Теперь вспомним, что нужно для того, чтобы задать биномиальное распределение. Нужны вероятность $p=0.046$ и количество экспериментов $n=20$.

Теперь можем посчитать матожидание $M[X] = np = 0.92$.

Другими словами, в среднем мы будем встречать примерно одну единицу на 20 измерений.

## Задача 2

Диаметр подшипников, изготовленных на заводе, представляет собой случайную величину, распределенную нормально с математическим ожиданием 1,5 см и средним квадратическим отклонением 0,04 см.

Найти вероятность того, что размер наугад взятого подшипника колеблется от 1,4 до 1,6 см.

Сначала решите при помощи правила 3 сигм, а затем получите точный ответ.

## Решение

Давайте для начала решим задачу при помощи правила трех сигм.

Одной сигмы здесь точно будет недостаточно, давайте посчитаем две сигмы:

$$[\mu - 2\sigma; \mu + 2\sigma]$$

$$[1.5 - 0.08; 1.5 + 0.08] = [1.42; 1.58]$$

Этот отрезок немного уже, чем нам нужен, поэтому давайте вычислим три сигмы.

$$[\mu - 3\sigma; \mu + 3\sigma]$$

$$[1.5 - 0.12; 1.5 + 0.12] = [1.38; 1.62]$$

Этот отрезок немного шире, чем нужно. Значит ответ где-то посередине между 95 и 99 процентами.

Посчитаем точно:

```python
import scipy.stats

def normal_integral(x):
    return scipy.stats.norm.cdf(x) - 0.5

a = (1.6 - 1.5) / 0.04
b = (1.4 - 1.5) / 0.04
normal_integral(a) - normal_integral(b) # 0.987
```

## Кейс

Не все величины, которые кажутся нормальными, на самом деле нормальные.

Например, рост людей на Земле часто приводят как пример нормально распределенной случайной величины, однако это не совсем так. Люди в азиатских странах в среднем ниже людей в европейских странах. Существуют народы как с маленьким, так и с большим средним ростом. Гарантировать, что количество людей в этих народах одинаково мы не можем, поэтому итоговое распределение может быть ассиметрично. Также у нас нет уверенности, что на это распределении будет работать правило трех сигм.

Можно сказать, что распределение роста у людей на Земле соответствует смеси нескольких нормальных распределений. Потому что если мы возьмем рост какого-то отдельно взятого народа, то мы скорее всего получим нормальное распределение.

На практике всегда важно проверять, действительно ли распределение, с которым мы работаем, является нормальным. Для этого существуют специальные инструменты, о которых мы поговорим в следующем модуле.
