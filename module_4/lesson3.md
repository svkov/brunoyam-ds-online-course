# Урок 3. Системы линейных уравнений

## Задача

Давайте представим, что Вася хочет сохранить деньги, проинвестировав их в разные активы. Вася не разбирается в инвестициях, поэтому он идет в банк, где есть услуга доверительного управления средствами. Менеджер в банке спрашивает сколько вы хотите накопить и составляет несколько вариантов портфеля. Сумма Васи поделится на какое-то количество частей и распределится между разными активами (акции/облигации/вклад в банке) под разную ожидаемую доходность. Допустим, у Васи был 1 миллион рублей. Ему предложили такие варианты:

1. Делим в пропорции 20%/30%/50%, через год у Васи будет 1.1 миллиона рублей
2. Делим в пропорции 50%/25%/25%, через год у Васи будет 1.5 миллиона рублей
3. Делим в пропорции 90%/5%/5%, через год у Васи будет 2 миллиона рублей

Вася что-то слышал о рисках инвестиций в акции, поэтому насторожился, когда увидел последний вариант. Также Васе показалось, что его обманывают и менеджер просто заберет часть денег себе. Он попросил специалиста предоставить детальную информацию с расчетами процентов, но специалист отказал. Может ли Вася самостоятельно расчитать доходности в каждом из случаев?

### Решение

Составим мат. модель задачи, а ниже разберемся как решаются такие задачи.

Давайте рассмотрим первый вариант, который предложил менеджер Васе. Миллион разбивается в пропорциях 20/30/50 (200к/300к/500к), затем каждая часть инвестируется и Вася забирает через год новую сумму. На какой процент увеличится каждый кусочек мы не знаем, обозначим их как $x_1, x_2, x_3$. Тогда всю задачу можно записать так:

$$
\begin{cases}
200x_1 + 300x_2 + 500x_3 = 1100 \\
500x_1 + 250x_2 + 250x_3 = 1500 \\
900x_1 + 50x_2 + 50x_3 = 2000
\end{cases}
$$

Это система линейных уравнений с тремя неизвестными. Давайте разберемся с теорией и вернемся к этой задаче.

## Системы линейных уравнений

Систему линейных уравнений (еще говорят СЛАУ - система линейных алгебраических уравнений) в матричной форме можно записать так:

$$Ax = b$$

Матрица $A$ имеет размерность $(m, n)$ и дана нам, вектор $b$ имеет размерность $(m, 1)$ и также известей, а вектор $x$ имеет размерность $(n, 1)$ и неизвестен. Наша задача - найти вектор $x$.

Если расписать систему, то она будет выглядеть так:

$$
\begin{cases}
a_{11}x_{1}+a_{12}x_{2}+\dots +a_{1n}x_{n}=b_{1}\\
a_{21}x_{1}+a_{22}x_{2}+\dots +a_{2n}x_{n}=b_{2}\\
\dots \\
a_{m1}x_{1}+a_{m2}x_{2}+\dots +a_{mn}x_{n}=b_{m}
\\\end{cases}
$$

Системы линейных уравнений возникают как самостоятельные задачи, а также как промежуточные задачи в задачах машинного обучения. Через несколько модулей мы увидим как при помощи решения систем линейных уравнений можно аналитически решать задачу линейной регрессии.

## Решение систем линейных уравнений

Существуют различные способы решения систем уравнений. Лучший способ для решения систем уравнений - метод Гаусса, однако этот метод сложен в реализации, поэтому при решении задач мы будем использовать уже реализованное решение. В следующем модуле мы разберемся с методом Крамера, а пока давайте посмотрим на самый простой способ.

Давайте предположим, что мы умеем находить обратную матрицу от матрицы $A$. Тогда можно умножить слева обе части уравнения на $A^{-1}$:

$$A^{-1}Ax = A^{-1}b$$

$$x = A^{-1}b$$

То есть, решение уравнения можно легко найти при помощи обратной матрицы.

Для вычисления обратной матрицы можно использовать Python (в следующем модуле научимся это делать), или можно использовать онлайн-калькулятор.

Вернемся к Васе и его задаче с банком. Какие проценты предлагаются в каждом из случаев? Обманывает ли менеджер Васю?
